[
["points-sel-work.html", "A Задание №1. Отбор точечных объектов Реализация алгоритма Settlement Spacing Реализация модели оценки условной графической нагрузки Преобразование созданных моделей геообработки в инструменты Python Toolbox Отбор населенных пунктов для карты масштаба 1:4 000 000 Отчет", " A Задание №1. Отбор точечных объектов Цель задания — освоение методики автоматизированного отбора точечных объектов на примере населенных пунктов. Задачи: Изучить принципы, заложенные в метод отбора (исключения) точек Settlement Spacing. Реализовать метод Settlement Spacing в среде ArcGIS Desktop с помощью среды автоматизации процессов геообработки Model Builder. Реализовать метод оценки графической нагрузки по сетке регулярных квадратов средствами Model Builder. Подготовить слой населенных пунктов субъекта РФ на основе данных OpenStreetMap. Осуществить автоматизированный отбор населенных пунктов для масштаба \\(1:4~000~000\\). Произвести графическую оценку результатов генерализации. Реализация алгоритма Settlement Spacing Входные параметры: Точечный слой (Input Points). Поле веса точки (Importance Field). Выносится в качестве параметра из инструмента Get Field Value (2.2). Поле сохранения точки (Remain Field). Выносится в качестве параметра из инструмента Calculate Field (6). Масштабирующий коэффициент (Scale). Вводится как свободный параметр типа Double. Требования к входным параметрам: Поля, указанные в параметрах Importance Field и Remain Field должны быть уже созданы в слое. Данные должны быть физически отсортированы в порядке увеличения поля Importance (чем больше значение этого поля, тем менее важной является точка). Для этого можно использовать инструмент Sort. Поле Remain по умолчанию должно быть пустым или заполненным нулями. Допустимые значения поля Remain: \\(0\\) — флаг не установлен. \\(1\\) — точку необходимо оставить. \\(2\\) — точку необходимо убрать. Предусловия: Необходимо расставить предусловия таким образом, чтобы каждый инструмент A, использующий вычисленное значение B, выполнялся после того как вычислится B. Входные данные: Тестирование инструмента производится на примере слоя poppnt_ural (можно вырезать из него небольшой фрагмент из нескольких десятков точек. Результат: По результатам выполнения инструмента каждой точке в поле Remain Field должно быть проставлено значение \\(1\\) (оставить) или \\(2\\) (убрать). Алгоритм решения задачи: Поток 1 1.1. Создать слой из точек (Make Feature Layer) 1.2. Выбрать точки (уже отобранные + текущая) по атрибутам (Select Layer by Attributes). Подсказка: используйте двойное условие, в котором поле Remain сравнивается с \\(1\\), а поле OBJECTID сравнивается со значением Value, полученным на шаге 2.1. Поток 2 2.1. Выбрать текущую точку с помощью итератора (Iterate Feature Selection) 2.2. Извлечь значение поля Importance (Get Field Value) 2.3. Вычислить радиус буферной зоны (Calculate Value) как произведение Importance (2.2) и входного параметра Scale. 2.4. Построить буферную зону, используя вычисленное значение 2.3 (Buffer) Довыбрать (SUBSET_SELECTION) буферной зоной (2.4) отобранные точки + текущую (1.2) с помощью пространственного запроса (Select Layer by Location). &gt; Внимание: в результате должны остаться только те точки, которые пересекаются буферной зоной! Подсчитать количество отобранных на шаге 3 точек (Get Count) Вычислить значение флага отбора точек, используя результат шага 4 (Calculate Value). Если выборка содержит 1 точку, то значение флага должно быть равно 1, если больше точек, то оно должно быть равно 2. Подсказка: тип выходного поля сделайте равным Long, но для вычисления используйте логическое выражение, результатом которого будет являться Ложь (0) или Истина (1). Вычислите поле Remain для текущей точки (2.1), используя значение флага отбора, полученное на шаге 5 (Calculate Field). Реализация модели оценки условной графической нагрузки Условная графическая нагрузка – средневзвешенное количество точек на единицу площади, где в качестве веса выступает размер точки, используемый при ее отображении на карте Входные параметры: Точечный слой Поле Size Field, отвечающее за графический вес точки (диаметр значка). Пространственное разрешение сетки (в метрах) Требования к входным данным: Поле Size Field должно содержать размеры значков, используемых для визуализации точек. Если значения всех размеров равны \\(1\\), вы получите обычную густоту точек на единицу площади. Необходимо самостоятельно реализовать модель геообработки, которая: Строит регулярную сетку с заданным разрешением и охватом, покрывающим входной набор точек с небольшим запасом. Подсказка: вам необходимо построить горизонтальный ограничивающий прямоугольник (Minimum Bounding Geometry), буферизовать его на величину разрешения сетки (Buffer) и подать буфер в качестве экстента в инструмент генерации регулярной сетки (Create Fishnet). Подсчитывает суммарный графический вес точек в каждой ячейке и записывает результат в новое поле. Подсказка: вам понадобятся инструменты статистики (Tabulate Intersection), и присоединения поля (Join Field). Сохраняет полученную сетку в выходной файл. Преобразование созданных моделей геообработки в инструменты Python Toolbox В данной части задания необходимо переписать созданные модели на языке программирования Python и оформить их в виде инструмента геообработки ArcGIS Python Toolbox. Первая модель (отбор точек) переписывается совместно с преподавателем в классе. — Вторая модель (оценка условной графической нагрузки) переписывается самостоятельно. При выполнении задания в качестве справочника используется официальное руководство по созданию инструментов Python Toolbox. Отбор населенных пунктов для карты масштаба 1:4 000 000 В данной — заключительной — части задания необходимо произвести отбор населенных пунктов, используя собственные скрипты, а также произвести графическую оценку полученных результатов. Алгоритм выполнения задания: Скачать данные OSM на территорию Субъекта Федерации. Не следует для выполнения работы брать субъекты с малым числом населенных пунктов (Мурманская область, Еврейская АО, Республика Кламыкия и т.п.). Перепроецировать слой settlement-points в наилучшую проекцию для выбранной территории Сформировать поля Importance и Size, используя следующее отображение атрибутов: Таблица A.1: Параметры заполнения полей PLACE Importance Size City 1 5 Town 2 3 Village 3 1 Hamlet 4 1 Locality 5 1 Используя фрагмент данных и значения параметра \\(С\\) (Scale) в диапазоне от \\(1000\\) до \\(10000\\) с шагом \\(1000\\), подобрать регрессионную зависимость вида \\(y = \\alpha x^{-\\beta}\\) между значением параметра масштабирования \\(C\\) (Scale) и средней графической нагрузкой (\\(ед.~на~см^2\\)) в масштабе \\(1:4~000~000\\). Средняя графическая нагрузка оценивается как среднее значение по всем ненулевым ячейкам регулярной сетки. Размер сетки — \\(1~см^2\\) в результирующем масштабе. Для \\(С = 2000, 4000, 8000\\) необходимо зафиксировать время работы инструмента, чтобы в дальнейшем сравнить его с временем работы модели геообработки. Найденная зависимость должна иметь примерно следующий вид: Для значений параметра \\(C = 2000, 4000, 8000\\) выполнить аналогичные вычисления с применением модели геообработки. Убедиться, что получается аналогичный результат и зафиксировать время выполнения обработки данных. Выполнить отбор населенных пунктов с графической нагрузкой \\(1\\), \\(3\\) и \\(5\\) населенных пункта на \\(см^2\\) для масштаба \\(1:4~000~000\\). Соответствующий параметр \\(C\\) (Scale) подберите, используя найденную регрессионную зависимость. Выполнить параметризацию параметра \\(x\\) обобщенного закона Топфера для трёх полученных генерализаций, исходя из предположения, что отношение результирующего и исходного масштаба равно \\(1:4\\). Оформить результаты в виде серии карт, отображающей: границу региона множество исходных точек бледно-серым цветом множество отобранных точек черным цветом соответствующего размера подписи основных населенных пунктов картограмму условной графической нагрузки Пример серии карт (вы можете упорядочить изображения другим путем — например, по вертикали): Отчет Работа оформляется в виде письменного отчета, в котором необходимо изложить все этапы исследования: цель и задачи исследования, суть метода отбора точек, суть принципа оценки условной графической нагрузки, суть обобщенного закона Топфера, этапы создания моделей геообработки и их внешний вид, технология создания инструментов Python Toolbox, определения их параметров и типов параметров процесс преобразования моделей геообработки в инструменты Python Toolbox, фактические отличия скрипта и модели — какие инструменты переехали в неизменном виде, а что поменялось. описание эксперимента по генерализации, включая: постановку задачи, нахождение регрессионной зависимости, сравнение времени работы модели и скрипта, выполнение отбора, оценку результатов в графическом (карты условной нагрузки) и численном (параметризация обобщенного закона Топфера) виде. "]
]
