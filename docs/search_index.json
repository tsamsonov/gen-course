[
["points.html", "Глава 1 Генерализация точечных объектов 1.1 Отбор 1.2 Кластеризация и регионизация", " Глава 1 Генерализация точечных объектов 1.1 Отбор 1.1.1 Краткий обзор Для просмотра презентации щелкните на ней один раз левой кнопкой мыши и листайте, используя кнопки на клавиатуре: Презентацию можно открыть в отдельном окне или вкладке браузере. Для этого щелкните по ней правой кнопкой мыши и выберите соответствующую команду. 1.1.2 Самостоятельная работа №1 Цель задания — освоение методики автоматизированного отбора точечных объектов на примере населенных пунктов. Задачи: Изучить принципы, заложенные в метод отбора (исключения) точек Settlement Spacing. Реализовать метод Settlement Spacing в среде ArcGIS Desktop с помощью среды автоматизации процессов геообработки Model Builder. Реализовать метод оценки графической нагрузки по сетке регулярных квадратов средствами Model Builder. Подготовить слой населенных пунктов субъекта РФ на основе данных OpenStreetMap. Осуществить автоматизированный отбор населенных пунктов для масштаба \\(1:4~000~000\\). Произвести графическую оценку результатов генерализации. Реализация алгоритма Settlement Spacing Входные параметры: Точечный слой (Input Points). Поле веса точки (Importance Field). Выносится в качестве параметра из инструмента Get Field Value (2.2). Поле сохранения точки (Remain Field). Выносится в качестве параметра из инструмента Calculate Field (6). Масштабирующий коэффициент (Scale). Вводится как свободный параметр типа Double. Требования к входным параметрам: Поля, указанные в параметрах Importance Field и Remain Field должны быть уже созданы в слое. Данные должны быть физически отсортированы в порядке увеличения поля Importance (чем больше значение этого поля, тем менее важной является точка). Для этого можно использовать инструмент Sort. Поле Remain по умолчанию должно быть пустым или заполненным нулями. Допустимые значения поля Remain: \\(0\\) — флаг не установлен. \\(1\\) — точку необходимо оставить. \\(2\\) — точку необходимо убрать. Предусловия: Необходимо расставить предусловия таким образом, чтобы каждый инструмент A, использующий вычисленное значение B, выполнялся после того как вычислится B. Входные данные: Тестирование инструмента производится на примере слоя poppnt_ural (можно вырезать из него небольшой фрагмент из нескольких десятков точек. Результат: По результатам выполнения инструмента каждой точке в поле Remain Field должно быть проставлено значение \\(1\\) (оставить) или \\(2\\) (убрать). Алгоритм решения задачи: Поток 1 1.1. Создать слой из точек (Make Feature Layer) 1.2. Выбрать точки (уже отобранные + текущая) по атрибутам (Select Layer by Attributes). Подсказка: используйте двойное условие, в котором поле Remain сравнивается с \\(1\\), а поле OBJECTID сравнивается со значением Value, полученным на шаге 2.1. Поток 2 2.1. Выбрать текущую точку с помощью итератора (Iterate Feature Selection) 2.2. Извлечь значение поля Importance (Get Field Value) 2.3. Вычислить радиус буферной зоны (Calculate Value) как произведение Importance (2.2) и входного параметра Scale. 2.4. Построить буферную зону, используя вычисленное значение 2.3 (Buffer) Довыбрать (SUBSET_SELECTION) буферной зоной (2.4) отобранные точки + текущую (1.2) с помощью пространственного запроса (Select Layer by Location). &gt; Внимание: в результате должны остаться только те точки, которые пересекаются буферной зоной! Подсчитать количество отобранных на шаге 3 точек (Get Count) Вычислить значение флага отбора точек, используя результат шага 4 (Calculate Value). Если выборка содержит 1 точку, то значение флага должно быть равно 1, если больше точек, то оно должно быть равно 2. Подсказка: тип выходного поля сделайте равным Long, но для вычисления используйте логическое выражение, результатом которого будет являться Ложь (0) или Истина (1). Вычислите поле Remain для текущей точки (2.1), используя значение флага отбора, полученное на шаге 5 (Calculate Field). Реализация модели оценки условной графической нагрузки Условная графическая нагрузка – средневзвешенное количество точек на единицу площади, где в качестве веса выступает размер точки, используемый при ее отображении на карте Входные параметры: Точечный слой Поле Size Field, отвечающее за графический вес точки (диаметр значка). Пространственное разрешение сетки (в метрах) Требования к входным данным: Поле Size Field должно содержать размеры значков, используемых для визуализации точек. Если значения всех размеров равны \\(1\\), вы получите обычную густоту точек на единицу площади. Необходимо самостоятельно реализовать модель геообработки, которая: Строит регулярную сетку с заданным разрешением и охватом, покрывающим входной набор точек с небольшим запасом. Подсказка: вам необходимо построить горизонтальный ограничивающий прямоугольник (Minimum Bounding Geometry), буферизовать его на величину разрешения сетки (Buffer) и подать буфер в качестве экстента в инструмент генерации регулярной сетки (Create Fishnet). Подсчитывает суммарный графический вес точек в каждой ячейке и записывает результат в новое поле. Подсказка: вам понадобятся инструменты статистики (Tabulate Intersection), и присоединения поля (Join Field). Сохраняет полученную сетку в выходной файл. Отбор населенных пунктов для карты масштаба 1:4 000 000 В данной — заключительной — части задания необходимо произвести отбор населенных пунктов, используя собственные модели геообработки, а также произвести графическую оценку полученных результатов. Алгоритм выполнения задания: Скачать данные OSM на территорию Субъекта Федерации Перепроецировать слой settlement-points в наилучшую проекцию для выбранной территории Сформировать поля Importance и Size, используя следующее отображение атрибутов: Таблица 1.1: Параметры заполнения полей PLACE Importance Size City 1 5 Town 2 3 Village 3 1 Hamlet 4 1 Locality 5 1 Используя фрагмент данных и значения параметра Scale в диапазоне от \\(1000\\) до \\(10000\\) с шагом \\(1000\\), подобрать регрессионную зависимость между значением параметра масштабирования Scale и средней графической нагрузкой (\\(ед.~на~см^2\\)) в масштабе \\(1:4~000~000\\). Средняя графическая нагрузка оценивается как среднее значение по всем ненулевым ячейкам регулярной сетки. Размер сетки — \\(1~см^2\\) в результирующем масштабе. Выполнить отбор населенных пунктов с графической нагрузкой \\(1\\), \\(3\\) и \\(5\\) населенных пункта на \\(см^2\\) для масштаба \\(1:4~000~000\\). Соответствующий параметр Scale подберите, используя найденную регрессионную зависимость. Оформить результаты в виде картосхемы, отображающей: границу региона множество исходных точек бледно-серым цветом множество отобранных точек черным цветом соответствующего размера подписи основных населенных пунктов картограмму условной графической нагрузки Рис. 1.1: Пример оформления результатов работы Отчет Работа оформляется в виде письменного отчета, в котором необходимо изложить все этапы исследования: цель и задачи исследования, суть метода отбора точек, суть принципа оценки графической нагрузки, этапы создания моделей геообработки и их внешний вид, описание эксперимента по генерализации, включая постановку задачи, нахождение регрессионной зависимости, выполнение отбора. 1.2 Кластеризация и регионизация 1.2.1 Краткий обзор Для просмотра презентации щелкните на ней один раз левой кнопкой мыши и листайте, используя кнопки на клавиатуре: Презентацию можно открыть в отдельном окне или вкладке браузере. Для этого щелкните по ней правой кнопкой мыши и выберите соответствующую команду. 1.2.2 Самостоятельная работа №2 Цель задания — освоение методов кластеризации и регионизации точек, а также построения центроидов. В качестве метода кластеризации предлагается использовать DBSCAN. В качестве метода построения региона — альфа-оболочку. Исходные данные: точки населенных пунктов из Самостоятельной работы №1. Изучение работы методов кластеризации и регионизации На данном этапе необходимо изучить принципы работы метода кластеризации DBSCAN, построения альфа-оболочки и центроида полигона: Метод DBSCAN доступен в виде инструмента Python, приложенного к данному заданию. Метод альфа-оболочки доступен в инструменте Cartography Tools &gt; Generalization &gt; Aggregate Points Центроид полигона можно получить посредством применения инструмента Data Management Tools &gt; Features &gt; Feature to Polygon Меняя параметры инструментов (расстояния, количество точек), ознакомьтесь с тем, как это влияет на получаемый результат. Оболочки, как и кластеры стройте для набора данных test. Автоматизация выделения регионов и центроидов кластеров Необходимо создать модель геообработки, которая будет принимать на вход слой маркированных точек и выдавать класс пространственных объектов с альфа-оболочками каждого кластера, а также центроидами кластеров Параметры инструмента: Входной слой точек (Input points) Название поля, в котором хранятся марки кластеров (Cluster ID Field) Расстояние кластеризации (Сluster distance) Выходной слой альфа-оболочек (Output regions feature class) Выходной слой центроидов (Output centroids feature class) Требования к результатам: Каждый регион должен соответствовать своему кластеру и содержать в качестве атрибутов исходный идентификатор и количество точек, входящих в данный кластер. Центроиды кластеров должны быть получены методом Inside (внутри) Рекомендации по выполнению: Инструмент должен состоять из двух моделей. Первая модель принимает на вход все параметры и создает пустой полигональный класс пространственных объектов для добавления альфа-оболочек кластеров. Это класс вместе со всеми исходными параметрами передается в другую модель, которая будет наполнять его оболочками для каждого кластера. Для прохода по номерам кластеров используйте итератор типа Iterate Field Values в режиме Unique Values (уникальные значения). Сделайте так, чтобы на выходе не создавались кластеры для точек-выбросов (идентификатор -1). Для полученных регионов кластеров необходимо сделать Dissolve, так как они могут состоять из нескольких оболочек, касающихся в одной точке. В качестве расстояния кластеризации необходимо указывать удвоенное расстояние, использованное ранее в методе DBSCAN. В этом случае оболочки будут соответствовать исходным кластерам. Кластеризация системы расселения субъекта Cроецируйте исходные данные в проекцию, оптимальную для выбранного региона. Используя созданный инструмент, постройте серию из 5 кластеризаций населенных пунктов выбранного вами субъекта методом DBSCAN &gt; альфа-оболочки &gt; центроиды. Количество точек в кластере оставьте постоянным (3), но меняйте значение расстояния кластеризации. Расстояния подберите таким образом, чтобы различия в кластеризации были очевидны и помогали выявлять пространственные группировки разного масштаба. Рассчитайте для каждой кластеризации меры качества: среднее внутрикластерное и межкластерное расстояние, их отношение. Сведите их в таблицу. Для каждого уровня кластеризации подготовьте изображение, включающее: а) исходные точки, б) регионы кластеров, в) центроиды кластеров г) элементы географической основы (реки, дороги, границы субъекта). Точки и регионы должны быть помечены разными цветами по номерам кластеров. Центроиды должны быть показаны окружностями радиуса, пропорционального количеству входящих точек. Пример изображения кластеров: Рис. 1.2: Пример оформления результатов работы Отчет Напишите отчет о проделанной работе, включающий: Цель и задачи работы. Описание алгоритмов DBSCAN, построения альфа-оболочки и центроида полигона. Описание процесса создания модели геообработки для выделения регионов и центроидов кластеров. Серию из 5 карт кластерной структуры системы расселения региона, полученную по результатам кластеризации. Географический анализ результатов. В отчете необходимо отразить, насколько реалистично выглядят полученные кластеры, к чему они привязаны, Можно ли выявить полимасштабность организации системы расселения на основе полученных изображений? Проанализируйте также полученные оценки критериев качества кластеризации. "]
]
